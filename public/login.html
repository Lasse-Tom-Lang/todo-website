<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Login</title>
    <link rel="stylesheet" href="/style.css">
  </head>
  <body>
    <main>
      <form>
        <p>

        </p>
        <input type="text" id="username" placeholder="Username">
        <input type="password" id="password" placeholder="Password">
        <input type="submit" value="Login">
      </form>
      <script>
        let username = document.getElementById("username")
        let password = document.getElementById("password")
        let error = document.querySelector("form p")
        document.querySelector("form").addEventListener("submit", (event) => {
          event.preventDefault()
          fetch(`/login?username=${username.value}&password=${password.value}`)
            .then((data) => data.json())
            .then((data) => {
              if (data.status == 1) {
                location.reload()
              }
              else {
                error.innerHTML = "Login failed"
              }
            })
        })
      </script>
    </main>
  </body>
</html>